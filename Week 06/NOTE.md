


### 学习笔记

#### JS语言通识

###### 语言分类：

- 非形式语言：中文，英文
- 形式语言（乔姆斯基谱系）上下包含关系
  - 0型 无限制文法
  - 1型 上下文相关文法
  - 2型 上下文无关文法
  - 3型 正则文法

###### 产生式：在计算机中指Tiger编译器将源程序经过词法分析和语法分析后得到一系列符合文法规则的语句

- 用尖括号括起来的名称来表示语法结构名
- 语法结构分成基础结构和需要用其他语法结构定义的复合结构
  - 基础结构称**终结符**（最终在代码中出现的字符）
  - 复合结构称非终结符
- 引号和中间的字符表示终结符
- 可以有括号
- *表示重复多次
- ｜表示或
- +表示至少一次
- 四则运算：1+2*3
- 终结符：Number + - * /
- 非终结符：MultiplicativeExpression AddtiveExpression



###### 巴科斯诺尔范式：即巴科斯范式，是一种用于表示上下文无关文法的语言，上下文文法描述了一类形式语言。它是由约翰巴科斯和彼得诺尔首先引入的用来描述计算机语言语法的符号集。

通过产生式理解乔姆斯基谱系

- 0型 无限制文法
  - ?::=?
- 1型 上下文相关文法
  - ?<A>?::=?<B>?
- 2型 上下文无关文法
  - <A>::=?
- 3型 正则文法
  - <A>::=<A>?

###### Javascript总体的结构是一个针对上下文无关文法的分析，一旦遇到像get上下文相关的地方，就会单独的用代码做一些特殊处理。

###### 语言的分类

- 形式语言——用途
  - 数据描述语言：JSON,HTML,XAML,SQL,CSS
  - 编程语言：C,C++,Java,C#,Python,Ruby,Perl,Lisp,T-SQL,Clojure,Haskell,JavaScript
- 形式语言——表达方式
  - 声明式语言：JSON,HTML,XAML,SQL,CSS,Lisp,Clojure,Haskell
  - 命令型语言：C,C++,Java,C#,Python,Ruby,Perl,JavaScript

###### 图灵完备性：在可计算性理论里，如果一系列操作数据的规则（如指令集/编程语言/细胞自动机）可以用来模拟单带图灵机，那么它是图灵完全的。这个词源于引入图灵机概念的数据家艾伦图灵。虽然图灵祭会受到存储能力的物理限制，图灵完全性通常指“具有无限存储能力的通用物理机器或编程语言”

- 命令式——图灵机
  - goto
  - if和while
- 声明式——lambda演算
  - 递归

###### 动态与静态

- 动态（Javascript）
  - 在用户的设备/在线服务器上
  - 产品实际运行时
  - Runtime
- 静态
  - 在程序员的设备上
  - 产品开发时
  - Compiletime

###### 类型系统

- 动态类型系统与静态类型系统
- 强类型与弱类型：在编程语言里类型转换发生的形式，强类型语言的类型转换是不会默认发生的；JavaScript是典型的弱类型语言
  - String + Number
  - String == Boolean
- 复合类型
  - 结构体
  - 函数签名
- 子类型
- 泛型：一半在集合类用的比较多
  - 逆变（父类可以转换成子类）/协变（子类可以转换成父类）

###### 一般命令式编程语言

- 结构会分成5个层级：
  - 原子级（Atom）：变量名/字符串直接量/数字直接量
  - 表达式（Expression）：由原子级结构通过运算符相连接加上辅助符号构成，可以级联
  - 语句（Statement）：表达式加上特定的标示符或关键字形成一定的结构
  - 结构（Structure）：Function/Class
  - 编程（Program）：Program/Module



#### JS类型

###### Number

- IEEE 754 Double Float 双精度浮点类型，浮点数可以表示很大的数，但数越大表示的位置越稀疏
  - Sign（符号位）（1）：表示1正0负
  - Exponent（指数位）（11）：决定浮点数表示的范围
  - Fraction（精度位）（52）：决定浮点数表示的精度
- 语法
  - 十进制：允许有小数 0   0.   .2   1e3(1000) 
  - 二进制：0b111
  - 八进制：0o10
  - 十进制：0xFF
- 0 .toString()

###### String

- Character：字符
- Code Point：码点，用来表示字符
- Encoding：编码方式
  - UTF8
  - UTF16
- 字符集
  - ASCII 127个字符
  - Unicode 联合编码集
  - UCS 0000～FFFF
  - GB 国标
    - GB2312
    - GBK（GB13000）
    - GB18030
  - ISO-8859
  - BIG5
- 语法
  - "abc"
  - 'abc'
  - `abc`：反引号，可以回车也可以插${}变量

###### Null：关键字，有值但是数空

###### Undefined：不是关键字，是一个全局变量。语义上表示根本没有人去设过这个值，没有定义。用void 0表示undefined

###### Boolean：都是关键字

- true
- false

###### Object

- 任何一个对象都是唯一的，与它本身的状态无关；即使状态完全一致的两个对象也并不相等。
- 用**状态**描述对象
- 状态改变即是**行为**

**对象的组成**：唯一性标识，状态，行为
### 设计对象状态行为时候 遵循 行为改变状态

认识对象的重要方式——**分类**：

- 类是一种常见的描述对象的方式
- 分为“归类”和“分类”两个主要流派
- 对于“归类”方法而言，多继承是非常自然的事情，如C++
- 采用“分类”思想的计算机语言，则是单继承结构，且会有一个基类Object

描述对象的方式——**原型Prototype**：

- 原型是一种更接近人类原始认知的描述对象的方法
- 并不试图做严谨的分类，而是采用“相似”的方式描述对象
- 任何对象仅仅需要描述它自己与原型的区别即可
- 在设计对象的状态和行为时，总是遵循**“行为改变状态”**的原则

JavaScript中的对象：

- 在JavaScript运行时，原生对象的描述方式非常简单，只需要关心**原型**和**属性**两部分
- JavaScript的属性既可以用来描述属性，也可以描述行为；JavaScript用属性来统一抽象对象的状态和行为。
- 原生支持了一个原型机制，便于链式寻找
- 一般来说，**数据属性用于描述状态**，**访问器属性则用于描述行为**；数据属性中如果存储函数，也可以用于描述行为。
- 当访问属性时，如果当前对象没有，则会沿着原型找原型对象是否有此名称的属性，而原型对象还可能有原型，因此会有“原型链”这一说法，这一算法保证了每个对象只需要描述自己和原型的区别即可。

**API/Grammar：**

- 基本对象机制：创建，访问，定义新属性以及改变属性的特征值——{}   .   []   Object.defineProperty
- 基于原型描述对象的方法：Object.create / Object.setPrototypeOf / Object.getPrototypeOf
- 基于分类描述对象的方法：new / class / extends
- 历史包袱，建议不用：new / function / prototype

**Function Object**：函数对象

- 除了一般对象的属性和原型，函数对象还有一个行为[[call]]（内置行为，无法通过任何方式访问到）
- 用JavaScript中的function关键字/箭头运算符或Function构造器创建的对象，会有[[call]]这个行为
- 用类似f()这样的语法把对象当作函数调用时，会访问到[[call]]这个行为
- 如果对应的对象没有[[call]]行为，则会报错

**Special Object**：

- Array[[length]]：长度会变化
- Object.prototype[[setPrototypeOf]]

**Host Object**：宿主对象，由宿主环境定义，JavaScript语言并不支持但JavaScript语法支持的一些特性；在JavaScript标准中有大量使用双方括号定义的私有方法，JavaScript语言里访问不到，但在运行时里又确实存在。

###### Symbol：作为Object的属性名这一种用途，有唯一性 

